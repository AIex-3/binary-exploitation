#include <stdlib.h>
#include <stdio.h>
#include <string.h>


void unused() {
	printf("This function will never be called?");
}

char * reverse(char *string, int len, int pointer)
{
	char buf[512];

	printf("[DEBUG] len = %d\n", len);
	printf("[DEBUG] buf @ %p\n", buf);
	
	for(pointer = len - 1; pointer >= 0; pointer--)
		buf[len - 1 - pointer] = *(string + pointer);

	buf[len] = '\0';

	printf("\nResult:\n");
	printf(buf);
}

void printUsage(char *file)
{
	printf("Usage: %s <string>\n", file);
	exit(-1);
}

int main(int argc, char *argv[])
{
	int len = 0;
	int pointer = 0;
  
	if(argc < 2)
		printUsage(argv[0]);
	else
	{
		// Set params
		len = strlen(argv[1]);
	
		reverse(argv[1], len, pointer);
	}

	printf("\n");

	exit(0);
}

